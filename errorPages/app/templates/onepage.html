<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <div class="col pt-5">
            <div class="row">
                <div class="col-6">
                    <h1>Bienvenidos a mi OnePages</h1>
                    <p>Esta página funciona cargando elementos con el evento scroll</p>
                </div>
                <div class="col-6">
                    <img src="https://th.bing.com/th/id/OIP.YVfY2EzoVUTrFoqDZvChDQHaEK?w=800&h=450&rs=1&pid=ImgDetMain" alt="Esto es una imagen" class="img-fluid">
                </div>
            </div>
            <br>
            <div class="row" id="tarjetas">
                <!-- Aqui voy a cargar mis cards -->
                 <div class="card col-4">
                    <div class="card-body">
                        <h5 class="card-title">
                            Título de la tarjeta por defecto
                        </h5>
                        <p class="card-text">
                            Este es el texto por defecto de la tarjeta.
                            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Deserunt vel labore voluptas voluptatum illo officia! Ut alias sed unde dicta eligendi qui aperiam eaque veniam, architecto rem quis dolores veritatis!
                            Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas corporis earum distinctio alias, aliquid quisquam ab exercitationem sint, tenetur sequi assumenda maiores at blanditiis sunt, nesciunt eligendi illo non natus!
                            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ipsum molestiae nam itaque repellendus quos dolorum magnam ullam sunt totam maiores quaerat recusandae, nihil ratione, eos, nemo labore illum consequatur repellat! 
                        </p>
                    </div>
                 </div>
            </div>
        </div>
    </div>

    <script>
        var i = 1;

        function loadCards(){
            console.log("Se detetó el final de la página");

            for (let index = 0; index < 5; index++){

                if(i > 100){
                    break;
                }

                // Vamos a hacer la lógica de un objeto con propiedades en JS
                var object = {
                    title: "Cards numero " + i,
                    text: "Texto dummy de la card " + i,
                }
                i++;

                // Crear nuestro html con JS
                var card = document.createElement("div");
                card.setAttribute("class", "card col-4");
                
                var body = document.createElement("div");
                body.setAttribute("class", "card-body");

                var h5 = document.createElement("h5");
                h5.setAttribute("class", "card-title");
                h5.innerHTML = object.title;

                var p = document.createElement("p");
                p.setAttribute("class", "card-text");
                p.innerHTML = object.text;

                var img = document.createElement("img");
                img.setAttribute("src", "https://th.bing.com/th/id/OIP.e--3FchBf6o0hwBflZ6iUwHaDt?rs=1&pid=ImgDetMain");
                img.setAttribute("class", "img-fluid");

                body.appendChild(h5);
                body.appendChild(p);
                body.appendChild(img);
                card.appendChild(body);
                
                document.getElementById("tarjetas").appendChild(card);
            }
        }

        window.addEventListener('scroll', () => {
            if((window.innerHeight + window.scrollY) > document.body.offsetHeight - 10){
                loadCards();
            }
        })
    </script>
</body>
</html>
